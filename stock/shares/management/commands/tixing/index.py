
import requests


def getData():
    url = 'https://28.push2.eastmoney.com/api/qt/clist/get?cb=&pn=1&pz=50&po=1&np=1&ut=bd1d9ddb04089700cf9c27f6f7426281&fltt=2&invt=2&wbp2u=|0|0|0|web&fid=&fs=b:MK0010&fields=f3,f12,f14'
    data = {
    }
    headers = {
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36",
        "Referer": "http://quote.eastmoney.com/zs000001.html",
    }

    response = requests.get(url, params=data, headers=headers)
    codes2 = response.json()
    # {"rc": 0, "rt": 6, "svr": 182481189, "lt": 1, "full": 1, "dlmkts": "", "data": {"total": 33, "diff": [
    #     {"f3": 1.8, "f12": "000001", "f14": "上证指数"}, {"f3": 1.0, "f12": "399001", "f14": "深证成指"},
    #     {"f3": -0.66, "f12": "899050", "f14": "北证50"}, {"f3": 0.51, "f12": "399006", "f14": "创业板指"},
    #     {"f3": 0.07, "f12": "000688", "f14": "科创50"}, {"f3": 1.14, "f12": "399750", "f14": "深主板50"},
    #     {"f3": 1.4, "f12": "000300", "f14": "沪深300"}, {"f3": 1.54, "f12": "000016", "f14": "上证50"},
    #     {"f3": 1.0, "f12": "399850", "f14": "深证50"}, {"f3": 0.5, "f12": "399005", "f14": "中小100"},
    #     {"f3": 1.4, "f12": "000905", "f14": "中证500"}, {"f3": 1.26, "f12": "000852", "f14": "中证1000"},
    #     {"f3": 1.63, "f12": "000010", "f14": "上证180"}, {"f3": 1.29, "f12": "000009", "f14": "上证380"},
    #     {"f3": 0.62, "f12": "000132", "f14": "上证100"}, {"f3": 0.56, "f12": "000133", "f14": "上证150"},
    #     {"f3": 3.97, "f12": "000003", "f14": "Ｂ股指数"}, {"f3": -0.01, "f12": "000012", "f14": "国债指数"},
    #     {"f3": 0.02, "f12": "000013", "f14": "企债指数"}, {"f3": 1.12, "f12": "000011", "f14": "基金指数"},
    #     {"f3": 1.0, "f12": "399002", "f14": "深成指R"}, {"f3": 1.54, "f12": "399003", "f14": "成份Ｂ指"},
    #     {"f3": 1.25, "f12": "399106", "f14": "深证综指"}, {"f3": 0.88, "f12": "399004", "f14": "深证100R"},
    #     {"f3": 0.91, "f12": "399007", "f14": "深证300"}, {"f3": 0.75, "f12": "399008", "f14": "中小300"},
    #     {"f3": 0.65, "f12": "399293", "f14": "创业大盘"}, {"f3": 0.86, "f12": "399019", "f14": "创业200"},
    #     {"f3": 0.96, "f12": "399020", "f14": "创业小盘"}, {"f3": 1.27, "f12": "399100", "f14": "新指数"},
    #     {"f3": 1.34, "f12": "399550", "f14": "央视50"}, {"f3": 1.2, "f12": "000903", "f14": "中证100"},
    #     {"f3": 1.4, "f12": "000906", "f14": "中证800"}]}}
    return codes2["data"]["diff"]
